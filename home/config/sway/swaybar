#
# Status Bar:
#
# Read `man 5 sway-bar` for more information about this section.
bar {
    position bottom

    # start invisible
    # will be toggled by bindsym toggle.sh below
    mode invisible

    # When the status_command prints a new line to stdout, swaybar updates.
    # The default just shows the current date and time.
    # battery /sys/class/power/BAT*/capacity
    # todo kind of takes a while (100ms??) thanks to the file read
    status_command while ~/.config/sway/status_command.sh; do sleep 1; done
    colors {
        statusline #ffffff
        background #323232
        inactive_workspace #32323200 #32323200 #5c5c5c
    }
}
# toggle.sh alternates between running the first command and the second command
#
# toggle sway bar visbility with super key press and release (kind of like gnome??)
# also show the last mako notification, and dismiss all mako notifications on hide
# if [ "$(makoctl list | jq '.data[] != []')" == true ]; then echo true; else echo false; fi
bindsym --release Super_L exec ~/.config/sway/toggle.sh "$XDG_RUNTIME_DIR/sway-bar-toggle" \
    'swaymsg bar mode invisible; makoctl dismiss --all' \
    'swaymsg bar mode overlay; makoctl restore'
